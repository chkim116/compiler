# 구문 분석 (Parser)
- 소스 코드의 구조를 분석하는 과정
- 코드는 if, for와 같은 문과 1 + 2 * 3와 같은 식으로 구성된다. 
- 즉 구문 분석은 소스 코드 구조의 문과 식을 분석하는 것이다.

## 구문 트리와 노드
- 문은 문과 식을 포함하고 식은 식만을 포함한다.
- 소스 코드의 구조를 분석해 문과 식의 포함관계를 트리로 표현하는 것을 구문 트리라고 한다.

구문 분석을 위해 구문 트리를 구성할 노드들을 정의하는 것부터 시작해야 한다. 가장 먼저 정의할 노드는 루트 노드이자, 선언 영역을 표현하는 노드이다.

`Node.h` 파일에 노드들의 구조체를 선언한다.

## 구문 분석기
- 구문 분석은 문과 식으로 구성된 소스 코드의 구조를 분석하는 것이다.
- 토큰 리스트를 입력받아 구문 트리를 출력한다.

어휘 분석을 통한 토큰 리스트가 생성되면 구문 분석을 시작하고, 그 결과 구문 트리가 완성되는 흐름이다.

```cpp
// Main.cpp

#include "Main.h"

auto main(int argc, char **argv) -> int
{
	string sourceCode = R""""(
		function main() {
			printLine 'Hello, World!';
			printLine 1 + 2 * 3;
		}
	)"""";

	auto tokenList = scan(sourceCode);
	auto syntaxTree = parse(tokenList);

	printSyntaxTree(syntaxTree);
}
```

여기서 `parse()`를 만들어야 한다. 어휘 분석과 마찬가지로 처음부터 끝까지 순회하여 무언가를 반환하면 되는데, 구문 분석에서는 어휘 분석으로 나온 토큰 리스트를 끝까지 순회하여 노드를 반환한다.

---

구문 분석은 다음과 같은 특징이 있다.
1. 컴파일 과정의 두번째 단계이다.
2. 어휘 분석으로 나온 토큰 리스트를 분석하는 것이다.
3. 소스 코드의 구조는 문과 식으로 표현된다.(Statement(문), Expression(식))
4. 문은 문과 식을 포함하고, 식은 식을 포함한다.
5. 연산자에는 우선순위가 있다. 